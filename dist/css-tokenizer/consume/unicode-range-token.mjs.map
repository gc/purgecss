{
  "version": 3,
  "sources": ["../../../src/css-tokenizer/code-points/code-points.ts", "../../../src/css-tokenizer/code-points/ranges.ts", "../../../src/css-tokenizer/consume/unicode-range-token.ts"],
  "sourcesContent": ["/** ' */\nexport const APOSTROPHE = 0x0027;\n/** * */\nexport const ASTERISK = 0x002a;\n/** \\b */\nexport const BACKSPACE = 0x008;\n/** \\r */\nexport const CARRIAGE_RETURN = 0x00d;\n/** \\t */\nexport const CHARACTER_TABULATION = 0x009;\n/** : */\nexport const COLON = 0x003a;\n/** , */\nexport const COMMA = 0x002c;\n/** @ */\nexport const COMMERCIAL_AT = 0x0040;\n/** \\x7F */\nexport const DELETE = 0x007f;\n/** ! */\nexport const EXCLAMATION_MARK = 0x0021;\n/** \\f */\nexport const FORM_FEED = 0x000c;\n/** . */\nexport const FULL_STOP = 0x002e;\n/** > */\nexport const GREATER_THAN_SIGN = 0x003e;\n/** - */\nexport const HYPHEN_MINUS = 0x002d;\n/** \\x1F */\nexport const INFORMATION_SEPARATOR_ONE = 0x001f;\n/** E */\nexport const LATIN_CAPITAL_LETTER_E = 0x0045;\n/** e */\nexport const LATIN_SMALL_LETTER_E = 0x0065;\n/** { */\nexport const LEFT_CURLY_BRACKET = 0x007b;\n/** ( */\nexport const LEFT_PARENTHESIS = 0x0028;\n/** [ */\nexport const LEFT_SQUARE_BRACKET = 0x005b;\n/** < */\nexport const LESS_THAN_SIGN = 0x003c;\n/** \\n */\nexport const LINE_FEED = 0x00a;\n/** \\v */\nexport const LINE_TABULATION = 0x00b;\n/** _ */\nexport const LOW_LINE = 0x005f;\n/** \\x10FFFF */\nexport const MAXIMUM_ALLOWED_CODEPOINT = 0x10FFFF;\n/** \\x00 */\nexport const NULL = 0x000;\n/** # */\nexport const NUMBER_SIGN = 0x0023;\n/** % */\nexport const PERCENTAGE_SIGN = 0x0025;\n/** + */\nexport const PLUS_SIGN = 0x002b;\n/** \" */\nexport const QUOTATION_MARK = 0x0022;\n/** \uFFFD */\nexport const REPLACEMENT_CHARACTER = 0xFFFD;\n/** \\ */\nexport const REVERSE_SOLIDUS = 0x005c;\n/** } */\nexport const RIGHT_CURLY_BRACKET = 0x007d;\n/** ) */\nexport const RIGHT_PARENTHESIS = 0x0029;\n/** ] */\nexport const RIGHT_SQUARE_BRACKET = 0x005d;\n/** ; */\nexport const SEMICOLON = 0x003b;\n/** \\u0E */\nexport const SHIFT_OUT = 0x00e;\n/** / */\nexport const SOLIDUS = 0x002f;\n/** \\u20 */\nexport const SPACE = 0x0020;\n/** u */\nexport const LATIN_SMALL_LETTER_U = 0x0075;\n/** U */\nexport const LATIN_CAPITAL_LETTER_U = 0x0055;\n/** r */\nexport const LATIN_SMALL_LETTER_R = 0x0072;\n/** R */\nexport const LATIN_CAPITAL_LETTER_R = 0x0052;\n/** l */\nexport const LATIN_SMALL_LETTER_L = 0x006c;\n/** L */\nexport const LATIN_CAPITAL_LETTER_L = 0x004c;\n/** ? */\nexport const QUESTION_MARK = 0x003f;\n/** 0 */\nexport const DIGIT_ZERO = 0x0030;\n/** F */\nexport const LATIN_CAPITAL_LETTER_F = 0x0046;\n", "import { BACKSPACE, DELETE, INFORMATION_SEPARATOR_ONE, LINE_TABULATION, LOW_LINE, HYPHEN_MINUS, NULL, SHIFT_OUT, LINE_FEED, CARRIAGE_RETURN, FORM_FEED, SPACE, CHARACTER_TABULATION } from './code-points';\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#tokenizer-definitions\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#digit\nexport function isDigitCodePoint(search: number): boolean {\n\treturn search >= 0x0030 && search <= 0x0039;\n}\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#uppercase-letter\nfunction isUppercaseLetterCodePoint(search: number): boolean {\n\treturn search >= 0x0041 && search <= 0x005a;\n}\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#lowercase-letter\nfunction isLowercaseLetterCodePoint(search: number): boolean {\n\treturn search >= 0x0061 && search <= 0x007a;\n}\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#hex-digit\nexport function isHexDigitCodePoint(search: number): boolean {\n\treturn (\n\t\t(search >= 0x0030 && search <= 0x0039) || // 0 .. 9\n\t\t(search >= 0x0061 && search <= 0x0066) || // a .. f\n\t\t(search >= 0x0041 && search <= 0x0046)    // A .. F\n\t);\n}\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#letter\nfunction isLetterCodePoint(search: number): boolean {\n\treturn isLowercaseLetterCodePoint(search) || isUppercaseLetterCodePoint(search);\n}\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#ident-start-code-point\nexport function isIdentStartCodePoint(search: number): boolean {\n\treturn isLetterCodePoint(search) || isNonASCII_IdentCodePoint(search) || search === LOW_LINE;\n}\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#ident-code-point\nexport function isIdentCodePoint(search: number): boolean {\n\treturn isIdentStartCodePoint(search) || isDigitCodePoint(search) || search === HYPHEN_MINUS;\n}\n\n// https://drafts.csswg.org/css-syntax/#non-ascii-ident-code-point\nfunction isNonASCII_IdentCodePoint(search: number): boolean {\n\tif (\n\t\tsearch === 0x00B7 ||\n\t\tsearch === 0x200C ||\n\t\tsearch === 0x200D ||\n\t\tsearch === 0x203F ||\n\t\tsearch === 0x2040 ||\n\t\tsearch === 0x200C\n\t) {\n\t\treturn true;\n\t}\n\n\tif (\n\t\t(0x00C0 <= search && search <= 0x00D6) ||\n\t\t(0x00D8 <= search && search <= 0x00F6) ||\n\t\t(0x00F8 <= search && search <= 0x037D) ||\n\t\t(0x037F <= search && search <= 0x1FFF) ||\n\t\t(0x2070 <= search && search <= 0x218F) ||\n\t\t(0x2C00 <= search && search <= 0x2FEF) ||\n\t\t(0x3001 <= search && search <= 0xD7FF) ||\n\t\t(0xF900 <= search && search <= 0xFDCF) ||\n\t\t(0xFDF0 <= search && search <= 0xFFFD)\n\t) {\n\t\treturn true;\n\t}\n\n\t// Input preprocessing\n\tif (search === 0x000) {\n\t\treturn true;\n\t} else if (isSurrogate(search)) {\n\t\treturn true;\n\t}\n\n\treturn search >= 0x10000;\n}\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#non-printable-code-point\nexport function isNonPrintableCodePoint(search: number): boolean {\n\treturn (\n\t\t(search === LINE_TABULATION) ||\n\t\t(search === DELETE) ||\n\t\t(NULL <= search && search <= BACKSPACE) ||\n\t\t(SHIFT_OUT <= search && search <= INFORMATION_SEPARATOR_ONE)\n\t);\n}\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#whitespace\nexport function isNewLine(search: number): boolean {\n\treturn search === LINE_FEED || search === CARRIAGE_RETURN || search === FORM_FEED;\n}\n\n// https://www.w3.org/TR/2021/CRD-css-syntax-3-20211224/#whitespace\nexport function isWhitespace(search: number): boolean {\n\treturn search === SPACE || search === LINE_FEED || search === CHARACTER_TABULATION || search === CARRIAGE_RETURN || search === FORM_FEED;\n}\n\n// https://infra.spec.whatwg.org/#surrogate\nexport function isSurrogate(search: number): boolean {\n\treturn search >= 0xd800 && search <= 0xdfff;\n}\n", "import { DIGIT_ZERO, HYPHEN_MINUS, LATIN_CAPITAL_LETTER_F, QUESTION_MARK } from '../code-points/code-points';\nimport { isHexDigitCodePoint } from '../code-points/ranges';\nimport type { CodePointReader } from '../interfaces/code-point-reader';\nimport type { Context } from '../interfaces/context';\nimport type { TokenUnicodeRange } from '../interfaces/token';\nimport { TokenType } from '../interfaces/token';\n\n// https://drafts.csswg.org/css-syntax/#starts-a-unicode-range\nexport function consumeUnicodeRangeToken(ctx: Context, reader: CodePointReader): TokenUnicodeRange {\n\t// 1. Consume the next two input code points and discard them.\n\treader.advanceCodePoint(2);\n\n\tconst firstSegment: Array<number> = [];\n\tconst secondSegment: Array<number> = [];\n\n\t// 2. Consume as many hex digits as possible,\n\t// but no more than 6.\n\tlet codePoint: number | undefined;\n\twhile (\n\t\t(typeof (codePoint = reader.source.codePointAt(reader.cursor)) !== \"undefined\") &&\n\t\tfirstSegment.length < 6 &&\n\t\tisHexDigitCodePoint(codePoint)\n\t) {\n\t\tfirstSegment.push(codePoint);\n\t\treader.advanceCodePoint();\n\t}\n\n\t// 2. If less than 6 hex digits were consumed,\n\t// consume as many U+003F QUESTION MARK (?) code points as possible,\n\t// but no more than enough to make the total of hex digits and U+003F QUESTION MARK (?) code points equal to 6.\n\twhile (\n\t\t(typeof (codePoint = reader.source.codePointAt(reader.cursor)) !== \"undefined\") &&\n\t\tfirstSegment.length < 6 &&\n\t\tcodePoint === QUESTION_MARK\n\t) {\n\t\tif (secondSegment.length === 0) {\n\t\t\tsecondSegment.push(...firstSegment);\n\t\t}\n\n\t\t// 3. If first segment contains any question mark code points, then:\n\t\t// 3.1 Replace the question marks in first segment with U+0030 DIGIT ZERO (0) code points.\n\t\tfirstSegment.push(DIGIT_ZERO);\n\t\t// 3.2.Replace the question marks in first segment with U+0046 LATIN CAPITAL LETTER F (F) code points.\n\t\tsecondSegment.push(LATIN_CAPITAL_LETTER_F);\n\t\treader.advanceCodePoint();\n\t}\n\n\tif (!secondSegment.length) {\n\t\t// 5. If the next 2 input code points are U+002D HYPHEN-MINUS (-) followed by a hex digit\n\t\tif (\n\t\t\treader.source.codePointAt(reader.cursor) === HYPHEN_MINUS &&\n\t\t\tisHexDigitCodePoint(reader.source.codePointAt(reader.cursor + 1) ?? -1)\n\t\t) {\n\t\t\t// 5.1. Consume the next input code point.\n\t\t\treader.advanceCodePoint();\n\n\t\t\t// 5.2 Consume as many hex digits as possible,\n\t\t\t// but no more than 6.\n\t\t\twhile (\n\t\t\t\t(typeof (codePoint = reader.source.codePointAt(reader.cursor)) !== \"undefined\") &&\n\t\t\t\tsecondSegment.length < 6 &&\n\t\t\t\tisHexDigitCodePoint(codePoint)\n\t\t\t) {\n\t\t\t\tsecondSegment.push(codePoint);\n\t\t\t\treader.advanceCodePoint();\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!secondSegment.length) {\n\t\t// Interpret the consumed code points as a hexadecimal number.\n\t\tconst startOfRange = parseInt(String.fromCodePoint(...firstSegment), 16);\n\n\t\t// Return a new <unicode-range-token> both starting and ending at start of range.\n\t\treturn [\n\t\t\tTokenType.UnicodeRange,\n\t\t\treader.source.slice(reader.representationStart, reader.representationEnd + 1),\n\t\t\treader.representationStart,\n\t\t\treader.representationEnd,\n\t\t\t{\n\t\t\t\tstartOfRange: startOfRange,\n\t\t\t\tendOfRange: startOfRange,\n\t\t\t},\n\t\t];\n\t}\n\n\t// Interpret the consumed code points as a hexadecimal number.\n\tconst startOfRange = parseInt(String.fromCodePoint(...firstSegment), 16);\n\tconst endOfRange = parseInt(String.fromCodePoint(...secondSegment), 16);\n\n\t// Return a new <unicode-range-token> starting at start of range and ending at end of range.\n\treturn [\n\t\tTokenType.UnicodeRange,\n\t\treader.source.slice(reader.representationStart, reader.representationEnd + 1),\n\t\treader.representationStart,\n\t\treader.representationEnd,\n\t\t{\n\t\t\tstartOfRange: startOfRange,\n\t\t\tendOfRange: endOfRange,\n\t\t},\n\t];\n}\n"],
  "mappings": ";;;;AA2BO,IAAM,eAAe;AAgErB,IAAM,gBAAgB;AAEtB,IAAM,aAAa;AAEnB,IAAM,yBAAyB;;;AC5E/B,SAAS,oBAAoB,QAAyB;AAC5D,SACE,UAAU,MAAU,UAAU;AAAA,EAC9B,UAAU,MAAU,UAAU;AAAA,EAC9B,UAAU,MAAU,UAAU;AAEjC;AANgB;;;ACXT,SAAS,yBAAyB,KAAc,QAA4C;AAElG,SAAO,iBAAiB,CAAC;AAEzB,QAAM,eAA8B,CAAC;AACrC,QAAM,gBAA+B,CAAC;AAItC,MAAI;AACJ,SACE,QAAQ,YAAY,OAAO,OAAO,YAAY,OAAO,MAAM,OAAO,eACnE,aAAa,SAAS,KACtB,oBAAoB,SAAS,GAC5B;AACD,iBAAa,KAAK,SAAS;AAC3B,WAAO,iBAAiB;AAAA,EACzB;AAKA,SACE,QAAQ,YAAY,OAAO,OAAO,YAAY,OAAO,MAAM,OAAO,eACnE,aAAa,SAAS,KACtB,cAAc,eACb;AACD,QAAI,cAAc,WAAW,GAAG;AAC/B,oBAAc,KAAK,GAAG,YAAY;AAAA,IACnC;AAIA,iBAAa,KAAK,UAAU;AAE5B,kBAAc,KAAK,sBAAsB;AACzC,WAAO,iBAAiB;AAAA,EACzB;AAEA,MAAI,CAAC,cAAc,QAAQ;AAE1B,QACC,OAAO,OAAO,YAAY,OAAO,MAAM,MAAM,gBAC7C,oBAAoB,OAAO,OAAO,YAAY,OAAO,SAAS,CAAC,KAAK,EAAE,GACrE;AAED,aAAO,iBAAiB;AAIxB,aACE,QAAQ,YAAY,OAAO,OAAO,YAAY,OAAO,MAAM,OAAO,eACnE,cAAc,SAAS,KACvB,oBAAoB,SAAS,GAC5B;AACD,sBAAc,KAAK,SAAS;AAC5B,eAAO,iBAAiB;AAAA,MACzB;AAAA,IACD;AAAA,EACD;AAEA,MAAI,CAAC,cAAc,QAAQ;AAE1B,UAAMA,gBAAe,SAAS,OAAO,cAAc,GAAG,YAAY,GAAG,EAAE;AAGvE,WAAO;AAAA;AAAA,MAEN,OAAO,OAAO,MAAM,OAAO,qBAAqB,OAAO,oBAAoB,CAAC;AAAA,MAC5E,OAAO;AAAA,MACP,OAAO;AAAA,MACP;AAAA,QACC,cAAcA;AAAA,QACd,YAAYA;AAAA,MACb;AAAA,IACD;AAAA,EACD;AAGA,QAAM,eAAe,SAAS,OAAO,cAAc,GAAG,YAAY,GAAG,EAAE;AACvE,QAAM,aAAa,SAAS,OAAO,cAAc,GAAG,aAAa,GAAG,EAAE;AAGtE,SAAO;AAAA;AAAA,IAEN,OAAO,OAAO,MAAM,OAAO,qBAAqB,OAAO,oBAAoB,CAAC;AAAA,IAC5E,OAAO;AAAA,IACP,OAAO;AAAA,IACP;AAAA,MACC;AAAA,MACA;AAAA,IACD;AAAA,EACD;AACD;AA7FgB;",
  "names": ["startOfRange"]
}

{
  "version": 3,
  "sources": ["../../src/postcss-prefix-selector/index.js"],
  "sourcesContent": ["const prefixPlugin = (options = {}) => {\r\n    const prefix = options.prefix;\r\n    const prefixWithSpace = /\\s+$/.test(prefix) ? prefix : `${prefix} `;\r\n    const ignoreFiles = options.ignoreFiles ? [].concat(options.ignoreFiles) : [];\r\n    const includeFiles = options.includeFiles\r\n        ? [].concat(options.includeFiles)\r\n        : [];\r\n    return {\r\n        postcssPlugin: 'postcss-prefix-selector',\r\n        prepare(result) {\r\n            const root = result.root;\r\n            const file = root.source.input.file;\r\n            // Skip ignored or non included files\r\n            if (ignoreFiles.length && file && isFileInArray(file, ignoreFiles)) {\r\n                return;\r\n            }\r\n            else if (includeFiles.length && file && !isFileInArray(file, includeFiles)) {\r\n                return;\r\n            }\r\n            return {\r\n                Rule(rule, { result }) {\r\n                    const keyframeRules = [\r\n                        'keyframes',\r\n                        '-webkit-keyframes',\r\n                        '-moz-keyframes',\r\n                        '-o-keyframes',\r\n                        '-ms-keyframes',\r\n                    ];\r\n                    if (rule.parent && keyframeRules.includes(rule.parent.name)) {\r\n                        return;\r\n                    }\r\n                    rule.selectors = rule.selectors.map((selector) => {\r\n                        if (options.exclude && excludeSelector(selector, options.exclude)) {\r\n                            return selector;\r\n                        }\r\n                        if (options.transform) {\r\n                            return options.transform(prefix, selector, prefixWithSpace + selector, root.source.input.file, rule);\r\n                        }\r\n                        // replace :root, body, html with the prefix\r\n                        if ([':root', 'body', 'html'].some(globalSel => selector.startsWith(globalSel))) {\r\n                            if (options.skipGlobalSelectors) {\r\n                                return selector;\r\n                            }\r\n                            return selector.replace(/(html\\s+body|:root\\s+body|html|:root|body)/gm, prefix);\r\n                        }\r\n                        return prefixWithSpace + selector;\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    };\r\n};\r\nfunction isFileInArray(file, arr) {\r\n    return arr.some((ruleOrString) => {\r\n        if (ruleOrString instanceof RegExp) {\r\n            return ruleOrString.test(file);\r\n        }\r\n        return file.includes(ruleOrString);\r\n    });\r\n}\r\nfunction excludeSelector(selector, excludeArr) {\r\n    return excludeArr.some((excludeRule) => {\r\n        if (excludeRule instanceof RegExp) {\r\n            return excludeRule.test(selector);\r\n        }\r\n        return selector === excludeRule;\r\n    });\r\n}\r\n;\r\nprefixPlugin.postcss = true;\r\nexport default prefixPlugin;\r\n"],
  "mappings": ";;;;AAAA,IAAM,eAAe,wBAAC,UAAU,CAAC,MAAM;AACnC,QAAM,SAAS,QAAQ;AACvB,QAAM,kBAAkB,OAAO,KAAK,MAAM,IAAI,SAAS,GAAG,MAAM;AAChE,QAAM,cAAc,QAAQ,cAAc,CAAC,EAAE,OAAO,QAAQ,WAAW,IAAI,CAAC;AAC5E,QAAM,eAAe,QAAQ,eACvB,CAAC,EAAE,OAAO,QAAQ,YAAY,IAC9B,CAAC;AACP,SAAO;AAAA,IACH,eAAe;AAAA,IACf,QAAQ,QAAQ;AACZ,YAAM,OAAO,OAAO;AACpB,YAAM,OAAO,KAAK,OAAO,MAAM;AAE/B,UAAI,YAAY,UAAU,QAAQ,cAAc,MAAM,WAAW,GAAG;AAChE;AAAA,MACJ,WACS,aAAa,UAAU,QAAQ,CAAC,cAAc,MAAM,YAAY,GAAG;AACxE;AAAA,MACJ;AACA,aAAO;AAAA,QACH,KAAK,MAAM,EAAE,QAAAA,QAAO,GAAG;AACnB,gBAAM,gBAAgB;AAAA,YAClB;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,YACA;AAAA,UACJ;AACA,cAAI,KAAK,UAAU,cAAc,SAAS,KAAK,OAAO,IAAI,GAAG;AACzD;AAAA,UACJ;AACA,eAAK,YAAY,KAAK,UAAU,IAAI,CAAC,aAAa;AAC9C,gBAAI,QAAQ,WAAW,gBAAgB,UAAU,QAAQ,OAAO,GAAG;AAC/D,qBAAO;AAAA,YACX;AACA,gBAAI,QAAQ,WAAW;AACnB,qBAAO,QAAQ,UAAU,QAAQ,UAAU,kBAAkB,UAAU,KAAK,OAAO,MAAM,MAAM,IAAI;AAAA,YACvG;AAEA,gBAAI,CAAC,SAAS,QAAQ,MAAM,EAAE,KAAK,eAAa,SAAS,WAAW,SAAS,CAAC,GAAG;AAC7E,kBAAI,QAAQ,qBAAqB;AAC7B,uBAAO;AAAA,cACX;AACA,qBAAO,SAAS,QAAQ,gDAAgD,MAAM;AAAA,YAClF;AACA,mBAAO,kBAAkB;AAAA,UAC7B,CAAC;AAAA,QACL;AAAA,MACJ;AAAA,IACJ;AAAA,EACJ;AACJ,GAnDqB;AAoDrB,SAAS,cAAc,MAAM,KAAK;AAC9B,SAAO,IAAI,KAAK,CAAC,iBAAiB;AAC9B,QAAI,wBAAwB,QAAQ;AAChC,aAAO,aAAa,KAAK,IAAI;AAAA,IACjC;AACA,WAAO,KAAK,SAAS,YAAY;AAAA,EACrC,CAAC;AACL;AAPS;AAQT,SAAS,gBAAgB,UAAU,YAAY;AAC3C,SAAO,WAAW,KAAK,CAAC,gBAAgB;AACpC,QAAI,uBAAuB,QAAQ;AAC/B,aAAO,YAAY,KAAK,QAAQ;AAAA,IACpC;AACA,WAAO,aAAa;AAAA,EACxB,CAAC;AACL;AAPS;AAST,aAAa,UAAU;AACvB,IAAO,kCAAQ;",
  "names": ["result"]
}
